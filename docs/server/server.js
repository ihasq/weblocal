"use strict";(()=>{var o={},g=()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),n=new Promise(e=>self.onmessage=e),w=async({request:e})=>{let a;for(;(a=g())in o;);let{body:t,cache:r,credentials:s,headers:d,integrity:c,keepalive:l,method:m,mode:h,redirect:E,referrer:p,referrerPolicy:T,url:f}=e,u=Object.fromEntries(d.entries());return(await n).data.postMessage({code:"REQUEST",id:a,data:[t,r,s,u,c,l,m,h,E,p,T,f]}),new Promise(M=>o[a]=M)},P=new BroadcastChannel(""),i=()=>setTimeout(()=>P.close(),3e3);n.then(({data:e})=>{let a=i();e.onmessage=({data:{code:t,id:r,data:s}})=>{switch(t){case"HEARTBEAT":{clearTimeout(a),a=i();break}default:o[r]?.(s)}},e.postMessage({code:"CONNECT"})});self.addEventListener("fetch",e=>e.respondWith(w(e)));})();
