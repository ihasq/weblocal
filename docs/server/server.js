"use strict";(()=>{var n={},o=crypto.randomUUID.bind(crypto),r=new Promise(e=>self.onmessage=e),t=Request.prototype,c=Object.keys(t).filter(e=>typeof t[e]!="function"||e!=="signal"),i=o(),m=async({request:e})=>{let s;for(;(s=o())in n;);return new Response(...URL.parse(e.url)?.pathname==`/${i}`?"":await new Promise(async p=>{n[s]=p,(await r).data.postMessage([c.map(a=>[a,a=="headers"?Object.fromEntries(e[a]):e[a]]),s])}))};r.then(({data:e})=>{e.onmessage=({data:s})=>n[s[2]||-1]?.(s),e.postMessage([i])});self.onfetch=e=>e.respondWith(m(e));})();
