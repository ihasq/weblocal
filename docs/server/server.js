"use strict";(()=>{var r={},a=()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),o=new Promise(e=>self.onmessage=e),i=BigInt(""+a()+a()+a()+a()).toString(36),h=async({request:e})=>{let n;for(;(n=a())in r;);let s=Object.entries(e);return URL.parse(e.url)?.pathname==`/${i}`?new Response("",{headers:{"Content-Type":"text/html"}}):((await o).data.postMessage({code:"REQUEST",id:n,data:[s,Object.fromEntries(e.headers.entries())]}),await new Promise(t=>r[n]=t).then(([t,d])=>new Response(t,d)))};o.then(({data:e})=>{e.onmessage=({data:{code:n,id:s,data:t}})=>r[s]?.(t),e.postMessage({code:"CONNECT",data:i})});self.addEventListener("fetch",e=>e.respondWith(h(e)));})();
