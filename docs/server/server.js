"use strict";(()=>{var a={},n=crypto.randomUUID.bind(crypto),o=new Promise(e=>self.onmessage=e),i=new Request(0),c=Object.keys(Request.prototype).filter(e=>!/^(object|function)$/.test(typeof i[e])||/^(headers|body)$/.test(e)),r=n(),d=async({request:e})=>{let s;for(;(s=n())in a;);return new Response(...URL.parse(e.url)?.pathname==`/${r}`?"":await new Promise(async p=>{a[s]=p,(await o).data.postMessage([c.map(t=>[t,t=="headers"?Object.fromEntries(e[t]):e[t]]),s])}))};o.then(({data:e})=>{e.onmessage=({data:s})=>a[s[2]||-1]?.(s),e.postMessage([r])});self.onfetch=e=>e.respondWith(d(e));})();
