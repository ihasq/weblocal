"use strict";(()=>{var o={},M=()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),n=new Promise(e=>self.onmessage=e),g=async({request:e})=>{let t;for(;(t=M())in o;);let{body:a,cache:r,credentials:s,headers:d,integrity:c,keepalive:l,method:m,mode:h,redirect:p,referrer:E,referrerPolicy:f,url:u}=e,T=Object.fromEntries(d.entries());return(await n).data.postMessage({code:"REQUEST",id:t,data:[a,r,s,T,c,l,m,h,p,E,f,u]}),new Promise(w=>o[t]=w)},P=new BroadcastChannel(""),i=()=>setTimeout(()=>P.close(),3e3);n.then(({data:e})=>{let t=i();e.onmessage=({data:{code:a,id:r,data:s}})=>{switch(a){case"HEARTBEAT":{clearTimeout(t),t=i();break}default:o[r]?.(s)}}});self.addEventListener("fetch",e=>e.respondWith(g(e)));})();
