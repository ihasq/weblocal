"use strict";(()=>{var n={},a=()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),i=new Promise(e=>self.onmessage=e),d=BigInt(""+a()+a()+a()+a()).toString(36),u=async({request:e})=>{let t;for(;(t=a())in n;);let{body:r,cache:h,credentials:c,headers:m,integrity:p,keepalive:l,method:g,mode:f,redirect:E,referrer:w,referrerPolicy:M,url:o}=e;if(URL.parse(o)?.pathname==`/${d}`)return new Response("",{headers:{"Content-Type":"text/html"}});let y=Object.fromEntries(m.entries());return(await i).data.postMessage({code:"REQUEST",id:t,data:[r,h,c,y,p,l,g,f,E,w,M,o]}),await new Promise(s=>n[t]=s).then(([s,P,R,T])=>new Response(s,{headers:P,status:R,statusText:T}))};i.then(({data:e})=>{e.onmessage=({data:{id:t,data:r}})=>n[t]?.(r),e.postMessage({code:"CONNECT",data:d})});self.addEventListener("fetch",e=>e.respondWith(u(e)));})();
