"use strict";(()=>{var n={},t=crypto.randomUUID.bind(crypto),o=new Promise(e=>self.onmessage=e),p=new Request(0),c=Object.keys(Request.prototype).filter(e=>typeof p[e]!="function"&&e!="signal"),r=t(),m=async({request:e})=>{let s;for(;(s=t())in n;);return new Response(...URL.parse(e.url)?.pathname==`/${r}`?"":await new Promise(async i=>{n[s]=i,(await o).data.postMessage([c.map(a=>[a,a=="headers"?Object.fromEntries(e[a]):e[a]]),s])}))};o.then(({data:e})=>{e.onmessage=({data:s})=>n[s[2]||-1]?.(s),e.postMessage([r])});self.onfetch=e=>e.respondWith(m(e));})();
