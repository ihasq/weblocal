<script>
	if(window !== window.top) {

		const
			registered = localStorage.getItem("profile"),
			name = Object.fromEntries(new URLSearchParams(window.location.search).entries()).name || "localhost"
		;

		let port;

		while(registered.includes(
			port = `${name}-${Math.floor(Math.random() * (36 ** 8 - 1)).toString(36).padStart(6, "0")}`
		)){}

		localStorage.setItem("profile", `${registered}\0${port}`)
		document.querySelector("iframe").src = `https://${port}.weblocal.dev`;

	}
</script>
<iframe></iframe>